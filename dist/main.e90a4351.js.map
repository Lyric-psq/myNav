{"version":3,"sources":["main.js"],"names":["stringData","localStorage","getItem","hashMap","JSON","parse","logo","url","$sites","$","$last","render","find","remove","forEach","node","index","simplify","insertBefore","on","e","preventDefault","stopPropagation","splice","string","x","replace","window","prompt","indexOf","push","toUpperCase","console","log","onbeforeunload","stringify","setItem"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,UAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAnB,EACA;;AACA,IAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWL,UAAX,KAA0B,CACxC;AAAEM,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,GAAG,EAAE;AAAlB,CADwC,EAExC;AAAED,EAAAA,IAAI,EAAE,GAAR;AAAaC,EAAAA,GAAG,EAAE;AAAlB,CAFwC,CAA1C;AAIA,IAAMC,MAAM,GAAGC,CAAC,CAAC,QAAD,CAAhB;AACA,IAAMC,KAAK,GAAGD,CAAC,CAAC,OAAD,CAAf;;AACA,IAAME,MAAM,GAAG,SAATA,MAAS,GAAM;AACnB;AACAH,EAAAA,MAAM,CAACI,IAAP,CAAY,eAAZ,EAA6BC,MAA7B;AACAV,EAAAA,OAAO,CAACW,OAAR,CAAgB,UAACC,IAAD,EAAOC,KAAP,EAAiB;AAC/B,QAAIR,MAAM,GAAGC,CAAC,mCACCM,IAAI,CAACR,GADN,4FAGiBQ,IAAI,CAACT,IAHtB,uCAIEW,QAAQ,CAACF,IAAI,CAACR,GAAN,CAJV,kQAAD,CAYHW,YAZG,CAYUR,KAZV,CAAb;AAaAF,IAAAA,MAAM,CAACW,EAAP,CAAU,OAAV,EAAmB,SAAnB,EAA8B,UAACC,CAAD,EAAO;AACnCA,MAAAA,CAAC,CAACC,cAAF;AACAD,MAAAA,CAAC,CAACE,eAAF;AACAnB,MAAAA,OAAO,CAACoB,MAAR,CAAeP,KAAf,EAAsB,CAAtB;AACAL,MAAAA,MAAM;AACP,KALD;AAMD,GApBD;AAqBD,CAxBD,EAyBA;;;AACA,IAAMM,QAAQ,GAAG,SAAXA,QAAW,CAACO,MAAD,EAAY;AAC3B,MAAIC,CAAC,GAAGD,MAAM,CACXE,OADK,CACG,SADH,EACc,EADd,EAELA,OAFK,CAEG,UAFH,EAEe,EAFf,EAGLA,OAHK,CAGG,MAHH,EAGW,EAHX,CAAR,CAD2B,CAK3B;;AACA,SAAOD,CAAP;AACD,CAPD;;AAQAd,MAAM;AACNF,CAAC,CAAC,UAAD,CAAD,CAAcU,EAAd,CAAiB,OAAjB,EAA0B,YAAM;AAC9B,MAAIZ,GAAG,GAAGoB,MAAM,CAACC,MAAP,CAAc,YAAd,CAAV;;AACA,MAAIrB,GAAG,CAACsB,OAAJ,CAAY,MAAZ,MAAwB,CAA5B,EAA+B;AAC7BtB,IAAAA,GAAG,GAAG,aAAaA,GAAnB;AACD;;AACDJ,EAAAA,OAAO,CAAC2B,IAAR,CAAa;AAAExB,IAAAA,IAAI,EAAEW,QAAQ,CAACV,GAAD,CAAR,CAAc,CAAd,EAAiBwB,WAAjB,EAAR;AAAwCxB,IAAAA,GAAG,EAAEA;AAA7C,GAAb;AACAyB,EAAAA,OAAO,CAACC,GAAR,CAAY1B,GAAZ;AACAI,EAAAA,MAAM;AACP,CARD;;AASAgB,MAAM,CAACO,cAAP,GAAwB,YAAM;AAC5B;AACA,MAAMlC,UAAU,GAAGI,IAAI,CAAC+B,SAAL,CAAehC,OAAf,CAAnB;AACAF,EAAAA,YAAY,CAACmC,OAAb,CAAqB,UAArB,EAAiCpC,UAAjC;AACD,CAJD","file":"main.e90a4351.js","sourceRoot":"..\\src","sourcesContent":["const stringData = localStorage.getItem(\"siteData\");\r\n// 如果JSON.parse(stringData)存在就返回，不存在就设定初始值\r\nconst hashMap = JSON.parse(stringData) || [\r\n  { logo: \"B\", url: \"https://www.baidu.com\" },\r\n  { logo: \"M\", url: \"https://developer.mozilla.org/zh-CN\" },\r\n];\r\nconst $sites = $(\".sites\");\r\nconst $last = $(\".last\");\r\nconst render = () => {\r\n  // 每次渲染都要把之前保存在hash里的数据去掉，不然会多次渲染\r\n  $sites.find(\"li:not(.last)\").remove();\r\n  hashMap.forEach((node, index) => {\r\n    let $sites = $(`<li>\r\n        <a href=\"${node.url}\">\r\n          <div class=\"siteWrapper\">\r\n            <div class=\"oneSite\">${node.logo}</div>\r\n            <span>${simplify(node.url)}</span>\r\n            <div class=\"delete\">\r\n                <svg class=\"icon\" aria-hidden=\"true\">\r\n                    <use xlink:href=\"#icon-delete\"></use>\r\n                </svg>\r\n            </div>\r\n          </div>\r\n        </a>\r\n      </li>`).insertBefore($last);\r\n    $sites.on(\"click\", \".delete\", (e) => {\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n      hashMap.splice(index, 1);\r\n      render();\r\n    });\r\n  });\r\n};\r\n// 简化url\r\nconst simplify = (string) => {\r\n  let x = string\r\n    .replace(\"http://\", \"\")\r\n    .replace(\"https://\", \"\")\r\n    .replace(\"www.\", \"\");\r\n  // .replace(\"/\", \"\");\r\n  return x;\r\n};\r\nrender();\r\n$(\".addSite\").on(\"click\", () => {\r\n  let url = window.prompt(\"请输入要添加的网址噢\");\r\n  if (url.indexOf(\"http\") !== 0) {\r\n    url = \"https://\" + url;\r\n  }\r\n  hashMap.push({ logo: simplify(url)[0].toUpperCase(), url: url });\r\n  console.log(url);\r\n  render();\r\n});\r\nwindow.onbeforeunload = () => {\r\n  // localStorage只能保存字符串\r\n  const stringData = JSON.stringify(hashMap);\r\n  localStorage.setItem(\"siteData\", stringData);\r\n};\r\n"]}